2025-08-15T16:19:59.282+08:00  INFO 15604 --- [znt-inbound-api] [main] c.z.z.ZntInboundApiApplicationTests      : Starting ZntInboundApiApplicationTests using Java 17.0.14 with PID 15604 (started by jeanny_chiu in C:\Users\jeanny_chiu\znt-inbound-api)
2025-08-15T16:19:59.304+08:00  INFO 15604 --- [znt-inbound-api] [main] c.z.z.ZntInboundApiApplicationTests      : No active profile set, falling back to 1 default profile: "default"
2025-08-15T16:20:04.143+08:00  INFO 15604 --- [znt-inbound-api] [main] c.z.z.ZntInboundApiApplicationTests      : Started ZntInboundApiApplicationTests in 5.603 seconds (process running for 7.166)
2025-08-15T16:41:02.859+08:00  INFO 23268 --- [znt-inbound-api] [main] c.z.z.ZntInboundApiApplication           : Starting ZntInboundApiApplication using Java 17.0.14 with PID 23268 (C:\Users\jeanny_chiu\znt-inbound-api\target\classes started by jeanny_chiu in C:\Users\jeanny_chiu\znt-inbound-api)
2025-08-15T16:41:02.863+08:00  INFO 23268 --- [znt-inbound-api] [main] c.z.z.ZntInboundApiApplication           : No active profile set, falling back to 1 default profile: "default"
2025-08-15T16:41:04.758+08:00  INFO 23268 --- [znt-inbound-api] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-08-15T16:41:04.780+08:00  INFO 23268 --- [znt-inbound-api] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-15T16:41:04.780+08:00  INFO 23268 --- [znt-inbound-api] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-08-15T16:41:04.888+08:00  INFO 23268 --- [znt-inbound-api] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-15T16:41:04.889+08:00  INFO 23268 --- [znt-inbound-api] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1947 ms
2025-08-15T16:41:05.780+08:00  INFO 23268 --- [znt-inbound-api] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-08-15T16:41:05.792+08:00  INFO 23268 --- [znt-inbound-api] [main] c.z.z.ZntInboundApiApplication           : Started ZntInboundApiApplication in 3.643 seconds (process running for 5.099)
2025-08-15T16:44:50.087+08:00  INFO 23268 --- [znt-inbound-api] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-15T16:44:50.088+08:00  INFO 23268 --- [znt-inbound-api] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-08-15T16:44:50.089+08:00  INFO 23268 --- [znt-inbound-api] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-08-15T16:44:50.279+08:00  WARN 23268 --- [znt-inbound-api] [http-nio-8080-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.String> com.zenitron.znt_inbound_api.controller.InboundOrderController.receiveInboundOrder(com.zenitron.znt_inbound_api.dto.InboundOrderRequest) with 2 errors: [Field error in object 'inboundOrderRequest' on field 'data.refNo': rejected value [null]; codes [NotBlank.inboundOrderRequest.data.refNo,NotBlank.data.refNo,NotBlank.refNo,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [inboundOrderRequest.data.refNo,data.refNo]; arguments []; default message [data.refNo]]; default message [ref_no 不得為空]] [Field error in object 'inboundOrderRequest' on field 'data.detail': rejected value [null]; codes [NotEmpty.inboundOrderRequest.data.detail,NotEmpty.data.detail,NotEmpty.detail,NotEmpty.java.util.List,NotEmpty]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [inboundOrderRequest.data.detail,data.detail]; arguments []; default message [data.detail]]; default message [detail 列表不得為空]] ]
2025-08-15T16:46:13.438+08:00  INFO 23268 --- [znt-inbound-api] [http-nio-8080-exec-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-15T16:46:13.444+08:00  WARN 23268 --- [znt-inbound-api] [http-nio-8080-exec-4] c.zaxxer.hikari.util.DriverDataSource    : Registered driver with driverClassName=oracle.jdbc.driver.OracleDriver was not found, trying direct instantiation.
2025-08-15T16:46:13.798+08:00  INFO 23268 --- [znt-inbound-api] [http-nio-8080-exec-4] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection oracle.jdbc.driver.T4CConnection@1fbf4168
2025-08-15T16:46:13.799+08:00  INFO 23268 --- [znt-inbound-api] [http-nio-8080-exec-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-15T16:46:14.079+08:00  INFO 23268 --- [znt-inbound-api] [http-nio-8080-exec-4] c.z.z.service.InboundOrderService        : === 簽名驗證 Debug 資訊 ===
2025-08-15T16:46:14.079+08:00  INFO 23268 --- [znt-inbound-api] [http-nio-8080-exec-4] c.z.z.service.InboundOrderService        : dataJson: {"ref_no":"2597832","shipped_time":"2025-08-15 16:00:51","wms_no":"2597832","wms_uuid":"2511","busi_date":"2025-08-15","detail":[{"buyer_sku_code":"11ICx.LDOx.29038","c_lpn_seq":"1","c_lpn_uuid":"000000018495","c_vol_height":null,"c_vol_length":null,"c_vol_width":null,"date_code":null,"gross_weight":null,"lot_no":null,"net_weight":null,"origin_country_ename":null,"out_po_line":"","out_po_no":"","qty":"500","ref_no":"2597832","shipping_mark":null,"sku_code":"SGM2036-2.1YN5G/TR","stock_mode":null,"stock_uuid":"0.044765970277777775"}]}
2025-08-15T16:46:14.079+08:00  INFO 23268 --- [znt-inbound-api] [http-nio-8080-exec-4] c.z.z.service.InboundOrderService        : dataJson 長度: 538
2025-08-15T16:46:14.079+08:00  INFO 23268 --- [znt-inbound-api] [http-nio-8080-exec-4] c.z.z.service.InboundOrderService        : partnerKey: nJ4rTzW8kH6pDqVb
2025-08-15T16:46:14.080+08:00  INFO 23268 --- [znt-inbound-api] [http-nio-8080-exec-4] c.z.z.service.InboundOrderService        : stringToSign 長度: 554
2025-08-15T16:46:14.084+08:00  INFO 23268 --- [znt-inbound-api] [http-nio-8080-exec-4] c.z.z.service.InboundOrderService        : MD5 Hex: 658761a8430c935cfd18c5025b93c8f8
2025-08-15T16:46:14.086+08:00  INFO 23268 --- [znt-inbound-api] [http-nio-8080-exec-4] c.z.z.service.InboundOrderService        : 計算出的簽名: NjU4NzYxYTg0MzBjOTM1Y2ZkMThjNTAyNWI5M2M4Zjg=
2025-08-15T16:46:14.086+08:00  INFO 23268 --- [znt-inbound-api] [http-nio-8080-exec-4] c.z.z.service.InboundOrderService        : 收到的簽名: MWFmNzY2MjZiZDI3ZmE0NjE2NTM5NjBhYzgwYzdkNDU=
2025-08-15T16:46:14.086+08:00  WARN 23268 --- [znt-inbound-api] [http-nio-8080-exec-4] c.z.z.service.InboundOrderService        : 簽名驗證失敗。part_code: ZENHUBJIT, 傳入簽名: MWFmNzY2MjZiZDI3ZmE0NjE2NTM5NjBhYzgwYzdkNDU=, 計算後簽名: NjU4NzYxYTg0MzBjOTM1Y2ZkMThjNTAyNWI5M2M4Zjg=
2025-08-15T16:46:14.431+08:00  INFO 23268 --- [znt-inbound-api] [http-nio-8080-exec-4] c.z.z.service.EmailService               : 已發送簽名錯誤通知郵件至: jeanny_chiu@zenitron.com.tw
2025-08-15T16:52:47.073+08:00  INFO 23268 --- [znt-inbound-api] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-08-15T16:52:47.555+08:00  INFO 23268 --- [znt-inbound-api] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-08-15T16:52:47.558+08:00  INFO 23268 --- [znt-inbound-api] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-08-15T16:52:47.596+08:00  INFO 23268 --- [znt-inbound-api] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
